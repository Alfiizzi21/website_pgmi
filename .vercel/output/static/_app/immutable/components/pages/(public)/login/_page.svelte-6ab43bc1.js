import{S as O,i as W,s as z,a as w,v as G,e as R,H as J,h as u,c as x,w as K,b as k,x as Q,f as X,t as Y,y as Z,k as f,q as C,l as m,m as v,r as S,n as r,F as n,R as L,I as U,T as ee,M as te}from"../../../../chunks/index-2cc7f77f.js";import{C as se}from"../../../../chunks/Container-f3de6e22.js";import{g as ae,a as le}from"../../../../chunks/index-6bd8d405-a4702f56.js";import"../../../../chunks/index.esm2017-523da5de.js";import{g as oe}from"../../../../chunks/navigation-75ff2ebc.js";import"../../../../chunks/singletons-b88798ed.js";function re(p){let l,s,i,o,a,t,e,d,g,c,P,y,E,A,N,h,T,$,q,B;return{c(){l=f("div"),s=f("h1"),i=C("login"),o=w(),a=f("form"),t=f("div"),e=f("label"),d=C("email"),g=w(),c=f("input"),P=w(),y=f("div"),E=f("label"),A=C("password"),N=w(),h=f("input"),T=w(),$=f("input"),this.h()},l(_){l=m(_,"DIV",{class:!0});var b=v(l);s=m(b,"H1",{class:!0});var F=v(s);i=S(F,"login"),F.forEach(u),o=x(b),a=m(b,"FORM",{class:!0,method:!0});var I=v(a);t=m(I,"DIV",{class:!0});var D=v(t);e=m(D,"LABEL",{for:!0});var H=v(e);d=S(H,"email"),H.forEach(u),g=x(D),c=m(D,"INPUT",{type:!0,class:!0,name:!0,id:!0}),D.forEach(u),P=x(I),y=m(I,"DIV",{class:!0});var V=v(y);E=m(V,"LABEL",{for:!0});var M=v(E);A=S(M,"password"),M.forEach(u),N=x(V),h=m(V,"INPUT",{type:!0,class:!0,name:!0,id:!0}),V.forEach(u),T=x(I),$=m(I,"INPUT",{type:!0,class:!0}),I.forEach(u),b.forEach(u),this.h()},h(){r(s,"class","text-center text-2xl font-semibold text-sky-900 uppercase m-2"),r(e,"for","email"),r(c,"type","email"),r(c,"class","py-1 px-4 text-sm rounded"),r(c,"name","email"),r(c,"id","email"),r(t,"class","flex flex-col font-semibold gap-1"),r(E,"for","password"),r(h,"type","password"),r(h,"class","py-1 px-4 text-sm rounded"),r(h,"name","password"),r(h,"id","password"),r(y,"class","flex flex-col font-semibold gap-1"),r($,"type","submit"),r($,"class","bg-sky-900 py-1 rounded my-2 text-white font-semibold uppercase cursor-pointer"),$.value="login",r(a,"class","flex flex-col gap-2"),r(a,"method","post"),r(l,"class","bg-sky-100 sm:w-96 mx-auto sm:mt-4 md:mt-20 mb-52 rounded p-4 shadow")},m(_,b){k(_,l,b),n(l,s),n(s,i),n(l,o),n(l,a),n(a,t),n(t,e),n(e,d),n(t,g),n(t,c),L(c,p[0]),n(a,P),n(a,y),n(y,E),n(E,A),n(y,N),n(y,h),L(h,p[1]),n(a,T),n(a,$),q||(B=[U(c,"input",p[4]),U(h,"input",p[5]),U(a,"submit",ee(p[3]))],q=!0)},p(_,b){b&1&&c.value!==_[0]&&L(c,_[0]),b&2&&h.value!==_[1]&&L(h,_[1])},d(_){_&&u(l),q=!1,te(B)}}}function j(p){let l,s,i;return{c(){l=f("div"),s=f("div"),i=f("div"),this.h()},l(o){l=m(o,"DIV",{class:!0});var a=v(l);s=m(a,"DIV",{class:!0});var t=v(s);i=m(t,"DIV",{class:!0}),v(i).forEach(u),t.forEach(u),a.forEach(u),this.h()},h(){r(i,"class","border-4 border-t-sky-500 w-10 h-10 rounded-full animate-spin"),r(s,"class","w-40 h-20 mt-28 bg-white rounded mx-auto flex justify-center items-center"),r(l,"class","right-0 left-0 top-0 bottom-0 bg-black fixed bg-opacity-25")},m(o,a){k(o,l,a),n(l,s),n(s,i)},d(o){o&&u(l)}}}function ie(p){let l,s,i,o,a;s=new se({props:{$$slots:{default:[re]},$$scope:{ctx:p}}});let t=p[2]&&j();return{c(){l=w(),G(s.$$.fragment),i=w(),t&&t.c(),o=R(),this.h()},l(e){J('[data-svelte="svelte-1bel8ov"]',document.head).forEach(u),l=x(e),K(s.$$.fragment,e),i=x(e),t&&t.l(e),o=R(),this.h()},h(){document.title="Login"},m(e,d){k(e,l,d),Q(s,e,d),k(e,i,d),t&&t.m(e,d),k(e,o,d),a=!0},p(e,[d]){const g={};d&131&&(g.$$scope={dirty:d,ctx:e}),s.$set(g),e[2]?t||(t=j(),t.c(),t.m(o.parentNode,o)):t&&(t.d(1),t=null)},i(e){a||(X(s.$$.fragment,e),a=!0)},o(e){Y(s.$$.fragment,e),a=!1},d(e){e&&u(l),Z(s,e),e&&u(i),t&&t.d(e),e&&u(o)}}}function ne(p,l,s){let i,o,a=!1;const t=ae(),e=async()=>{s(2,a=!0),await le(t,i,o).then(c=>{localStorage.setItem("uid",c.user.id),oe("/dashboard")}).catch(c=>{s(2,a=!1),alert("gagal login",c)})};function d(){i=this.value,s(0,i)}function g(){o=this.value,s(1,o)}return[i,o,a,e,d,g]}class he extends O{constructor(l){super(),W(this,l,ne,ie,z,{})}}export{he as default};
