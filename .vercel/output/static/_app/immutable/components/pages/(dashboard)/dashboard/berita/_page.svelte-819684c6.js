import{S as ue,i as pe,s as _e,k as c,q as R,a as A,e as re,l as o,m as i,r as K,h as s,c as H,n as a,b as Y,F as e,A as ce,L as ve,o as me,K as oe,I as be,u as Ee}from"../../../../../chunks/index-2cc7f77f.js";import{D as ge,d as ie,K as ye,W as xe,g as Te,x as De,E as ke}from"../../../../../chunks/firebase-8ec4c989.js";import{t as ne}from"../../../../../chunks/lib-8baa1bf8.js";import"../../../../../chunks/index.esm2017-523da5de.js";function de(h,t,r){const n=h.slice();return n[6]=t[r],n}function he(h){let t,r,n=h[6].title+"",_,D,v,b,L,w,m,x=ne(h[6].body,100)+"",k,f,E,B,U,S,I,N,q,j,W,V,F;function G(...y){return h[4](h[6],...y)}return{c(){t=c("tr"),r=c("th"),_=R(n),D=A(),v=c("td"),b=c("img"),w=A(),m=c("td"),k=A(),f=c("td"),E=c("div"),B=c("span"),U=R("delete"),S=A(),I=c("a"),N=c("span"),q=R("edit"),W=A(),this.h()},l(y){t=o(y,"TR",{class:!0});var u=i(t);r=o(u,"TH",{class:!0});var M=i(r);_=K(M,n),M.forEach(s),D=H(u),v=o(u,"TD",{class:!0});var P=i(v);b=o(P,"IMG",{src:!0,alt:!0}),P.forEach(s),w=H(u),m=o(u,"TD",{class:!0});var g=i(m);g.forEach(s),k=H(u),f=o(u,"TD",{class:!0});var p=i(f);E=o(p,"DIV",{class:!0});var l=i(E);B=o(l,"SPAN",{class:!0});var T=i(B);U=K(T,"delete"),T.forEach(s),l.forEach(s),S=H(p),I=o(p,"A",{href:!0,class:!0});var d=i(I);N=o(d,"SPAN",{class:!0});var C=i(N);q=K(C,"edit"),C.forEach(s),d.forEach(s),p.forEach(s),W=H(u),u.forEach(s),this.h()},h(){a(r,"class","py-4 px-6 text-center font-medium"),oe(b.src,L=h[6].imageUrl)||a(b,"src",L),a(b,"alt","news"),a(v,"class","py-4 px-6 text-center"),a(m,"class","py-4 px-6"),a(B,"class","material-icons"),a(E,"class","cursor-pointer hover:text-red-500"),a(N,"class","material-icons"),a(I,"href",j=h[2]+"/dashboard/berita/edit/"+h[6].id),a(I,"class","hover:text-blue-500"),a(f,"class","flex flex-col items-center"),a(t,"class","bg-white border-b")},m(y,u){Y(y,t,u),e(t,r),e(r,_),e(t,D),e(t,v),e(v,b),e(t,w),e(t,m),m.innerHTML=x,e(t,k),e(t,f),e(f,E),e(E,B),e(B,U),e(f,S),e(f,I),e(I,N),e(N,q),e(t,W),V||(F=be(E,"click",G),V=!0)},p(y,u){h=y,u&1&&n!==(n=h[6].title+"")&&Ee(_,n),u&1&&!oe(b.src,L=h[6].imageUrl)&&a(b,"src",L),u&1&&x!==(x=ne(h[6].body,100)+"")&&(m.innerHTML=x),u&1&&j!==(j=h[2]+"/dashboard/berita/edit/"+h[6].id)&&a(I,"href",j)},d(y){y&&s(t),V=!1,F()}}}function fe(h){let t,r,n;return{c(){t=c("div"),r=c("div"),n=c("div"),this.h()},l(_){t=o(_,"DIV",{class:!0});var D=i(t);r=o(D,"DIV",{class:!0});var v=i(r);n=o(v,"DIV",{class:!0}),i(n).forEach(s),v.forEach(s),D.forEach(s),this.h()},h(){a(n,"class","border-4 border-t-sky-500 w-10 h-10 rounded-full animate-spin"),a(r,"class","w-40 h-20 mt-28 bg-white rounded mx-auto flex justify-center items-center"),a(t,"class","right-0 left-0 top-0 bottom-0 bg-black fixed bg-opacity-25")},m(_,D){Y(_,t,D),e(t,r),e(r,n)},d(_){_&&s(t)}}}function we(h){let t,r,n,_,D,v,b,L,w,m,x,k,f,E,B,U,S,I,N,q,j,W,V,F,G,y,u,M,P=h[0],g=[];for(let l=0;l<P.length;l+=1)g[l]=he(de(h,P,l));let p=h[1]&&fe();return{c(){t=c("section"),r=c("div"),n=c("div"),_=R("Daftar berita"),D=A(),v=c("a"),b=c("span"),L=R("add"),w=A(),m=c("div"),x=c("table"),k=c("thead"),f=c("tr"),E=c("th"),B=R("Title"),U=A(),S=c("th"),I=R("Image"),N=A(),q=c("th"),j=R("Body"),W=A(),V=c("th"),F=R("aksi"),G=A(),y=c("tbody");for(let l=0;l<g.length;l+=1)g[l].c();u=A(),p&&p.c(),M=re(),this.h()},l(l){t=o(l,"SECTION",{class:!0});var T=i(t);r=o(T,"DIV",{class:!0});var d=i(r);n=o(d,"DIV",{class:!0});var C=i(n);_=K(C,"Daftar berita"),C.forEach(s),D=H(d),v=o(d,"A",{href:!0});var Q=i(v);b=o(Q,"SPAN",{class:!0});var X=i(b);L=K(X,"add"),X.forEach(s),Q.forEach(s),d.forEach(s),w=H(T),m=o(T,"DIV",{class:!0});var Z=i(m);x=o(Z,"TABLE",{class:!0});var z=i(x);k=o(z,"THEAD",{class:!0});var $=i(k);f=o($,"TR",{});var O=i(f);E=o(O,"TH",{scope:!0,class:!0});var ee=i(E);B=K(ee,"Title"),ee.forEach(s),U=H(O),S=o(O,"TH",{scope:!0,class:!0});var te=i(S);I=K(te,"Image"),te.forEach(s),N=H(O),q=o(O,"TH",{class:!0});var ae=i(q);j=K(ae,"Body"),ae.forEach(s),W=H(O),V=o(O,"TH",{scope:!0,class:!0});var se=i(V);F=K(se,"aksi"),se.forEach(s),O.forEach(s),$.forEach(s),G=H(z),y=o(z,"TBODY",{});var le=i(y);for(let J=0;J<g.length;J+=1)g[J].l(le);le.forEach(s),z.forEach(s),Z.forEach(s),T.forEach(s),u=H(l),p&&p.l(l),M=re(),this.h()},h(){a(n,"class","py-2 font-semibold text-lg uppercase"),a(b,"class","material-icons hover:text-green-500"),a(v,"href",h[2]+"/dashboard/berita/add"),a(r,"class","flex justify-between items-center"),a(E,"scope","col"),a(E,"class","py-3 px-6 text-center"),a(S,"scope","col"),a(S,"class","md:w-52 text-center"),a(q,"class","py-3 px-6 text-center"),a(V,"scope","col"),a(V,"class","py-3 px-6 text-center"),a(k,"class","text-xs text-gray-700 uppercase bg-gray-50"),a(x,"class","w-full text-sm text-left text-gray-500"),a(m,"class","overflow-x-auto relative"),a(t,"class","dashboard-section")},m(l,T){Y(l,t,T),e(t,r),e(r,n),e(n,_),e(r,D),e(r,v),e(v,b),e(b,L),e(t,w),e(t,m),e(m,x),e(x,k),e(k,f),e(f,E),e(E,B),e(f,U),e(f,S),e(S,I),e(f,N),e(f,q),e(q,j),e(f,W),e(f,V),e(V,F),e(x,G),e(x,y);for(let d=0;d<g.length;d+=1)g[d].m(y,null);Y(l,u,T),p&&p.m(l,T),Y(l,M,T)},p(l,[T]){if(T&13){P=l[0];let d;for(d=0;d<P.length;d+=1){const C=de(l,P,d);g[d]?g[d].p(C,T):(g[d]=he(C),g[d].c(),g[d].m(y,null))}for(;d<g.length;d+=1)g[d].d(1);g.length=P.length}l[1]?p||(p=fe(),p.c(),p.m(M.parentNode,M)):p&&(p.d(1),p=null)},i:ce,o:ce,d(l){l&&s(t),ve(g,l),l&&s(u),p&&p.d(l),l&&s(M)}}}function Ie(h,t,r){let n=[],_=!0;const D="http://127.0.0.1:3000",v=async()=>{const w=ge(ie,"berita"),m=ye(w,xe("updateAt","desc"));let x=await Te(m),k=[];x.docs.forEach(f=>{let E=f.data();E.id=f.id,k=[...k,E]}),r(0,n=k)},b=async w=>{if(confirm("anda yakin ingin menghapus ini ?")){r(1,_=!0);const m=De(ie,"berita",w);await ke(m),await v(),r(1,_=!1)}};return me(async()=>{await v(),r(1,_=!1)}),[n,_,D,b,(w,m)=>b(w.id)]}class Be extends ue{constructor(t){super(),pe(this,t,Ie,we,_e,{})}}export{Be as default};
